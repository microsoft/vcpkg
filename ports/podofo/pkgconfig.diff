diff --git a/CMakeLists.txt b/CMakeLists.txt
index f04949d3..0441083c 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -221,29 +221,39 @@ message("Found libxml2 library at ${LIBXML2_LIBRARIES}, headers ${LIBXML2_INCLUD
 # NOTE: Be careful when adding/removing: the order may be
 # platform sensible, so don't modify the current order
 
+set(PODOFO_PKGCONFIG_REQUIRES_PRIVATE "")
 set(PODOFO_HEADERS_DEPENDS)
 set(PODOFO_LIB_DEPENDS OpenSSL::SSL)
+string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " libssl")
 if(Fontconfig_FOUND)
     list(APPEND PODOFO_LIB_DEPENDS Fontconfig::Fontconfig)
+    string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " fontconfig")
 endif()
 list(APPEND PODOFO_LIB_DEPENDS Freetype::Freetype)
+string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " freetype2")
 list(APPEND PODOFO_LIB_DEPENDS LibXml2::LibXml2)
+string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " libxml-2.0")
 if(PNG_FOUND)
     list(APPEND PODOFO_LIB_DEPENDS PNG::PNG)
+    string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " libpng")
 endif()
 if(TIFF_FOUND)
     list(APPEND PODOFO_LIB_DEPENDS TIFF::TIFF)
+    string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " libtiff-4")
 endif()
 if(JPEG_FOUND)
     list(APPEND PODOFO_LIB_DEPENDS JPEG::JPEG)
+    string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " libjpeg")
 endif()
 list(APPEND PODOFO_LIB_DEPENDS ZLIB::ZLIB)
+string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " zlib")
 list(APPEND PODOFO_LIB_DEPENDS ${PLATFORM_SYSTEM_LIBRARIES})
 
 if(LCMS2_FOUND)
     # little-cms2 doesn't provide targets.
     list(APPEND PODOFO_LIB_DEPENDS ${LCMS2_LIBRARIES})
     list(APPEND PODOFO_HEADERS_DEPENDS ${LCMS2_INCLUDE_DIR})
+    string(APPEND PODOFO_PKGCONFIG_REQUIRES_PRIVATE " lcms2")
 endif()
 
 function(add_source subdir subdir_path dstsources dstheaders)
diff --git a/src/podofo/CMakeLists.txt b/src/podofo/CMakeLists.txt
index 11c2a0aa..3c98cad9 100644
--- a/src/podofo/CMakeLists.txt
+++ b/src/podofo/CMakeLists.txt
@@ -93,29 +93,24 @@ if(PODOFO_BUILD_SHARED)
         CLEAN_DIRECT_OUTPUT 1
         OUTPUT_NAME "podofo"
     )
-
-    # Create a pkg-config file for linking against shared library
-    # if pkg-config is available on the system.
-    # Add a version to the file name corresponding to the API compatibility.
-    find_program(PKG_CONFIG_FOUND pkg-config)
-    if(PKG_CONFIG_FOUND)
-        message("Pkg-config found, creating a pkg-config file for linking against shared library.")
-        configure_file(
-            "libpodofo.pc.in"
-            "${PROJECT_BINARY_DIR}/libpodofo.pc"
-            @ONLY)
-        install(
-            FILES "${PROJECT_BINARY_DIR}/libpodofo.pc"
-            DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")
-    else()
-        message("Pkg-config not found. No pkg-config file will be created.")
-    endif()
-
     set(PODOFO_TARGET podofo_shared)
     set(PODOFO_LIBRARIES podofo_shared
         CACHE INTERNAL "Which podofo library variant to depend on")
 endif()
 
+# Create a pkg-config file.
+# Add a version to the file name corresponding to the API compatibility.
+find_program(PKG_CONFIG_FOUND pkg-config pkgconf)
+if(PKG_CONFIG_FOUND)
+    configure_file(
+        "libpodofo.pc.in"
+        "${PROJECT_BINARY_DIR}/libpodofo.pc"
+        @ONLY)
+    install(
+        FILES "${PROJECT_BINARY_DIR}/libpodofo.pc"
+        DESTINATION "${CMAKE_INSTALL_LIBDIR}/pkgconfig")
+endif()
+
 # Configure the "headers" file set that will be exported with install(TARGETS)
 target_sources(${PODOFO_TARGET} PUBLIC FILE_SET headers TYPE HEADERS
     BASE_DIRS "${PROJECT_SOURCE_DIR}/src" ${CMAKE_CURRENT_BINARY_DIR}
diff --git a/src/podofo/libpodofo.pc.in b/src/podofo/libpodofo.pc.in
index c5d2e5b1..bcfa1089 100644
--- a/src/podofo/libpodofo.pc.in
+++ b/src/podofo/libpodofo.pc.in
@@ -1,10 +1,12 @@
 prefix=@CMAKE_INSTALL_PREFIX@
 exec_prefix=${prefix}
 libdir=@CMAKE_INSTALL_FULL_LIBDIR@
-includedir=@CMAKE_INSTALL_FULL_INCLUDEDIR@/podofo
+includedir=@CMAKE_INSTALL_FULL_INCLUDEDIR@
 
 Name: @CMAKE_PROJECT_NAME@
 Description: A C++ library to work with the PDF file format
 Version: @PODOFO_VERSION@
+Requires.private: @PODOFO_PKGCONFIG_REQUIRES_PRIVATE@
 Libs: -L${libdir} -lpodofo
+Libs.private: -lpodofo_private -lpodofo_3rdparty
 Cflags: -I${includedir}
