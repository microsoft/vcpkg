diff --git a/src/sord_validate.c b/src/sord_validate.c
index 51a3748..4b67521 100644
--- a/src/sord_validate.c
+++ b/src/sord_validate.c
@@ -125,7 +125,11 @@ absolute_path(const uint8_t* path)
 {
 #ifdef _WIN32
   char* out = (char*)malloc(MAX_PATH);
-  GetFullPathName((const char*)path, MAX_PATH, out, NULL);
+  #if WINAPI_FAMILY == WINAPI_FAMILY_APP
+    GetFullPathName((LPCWSTR)path, MAX_PATH, (LPWSTR)out, NULL);
+  #else
+    GetFullPathName((const char*)path, MAX_PATH, out, NULL);
+  #endif
   return (uint8_t*)out;
 #else
   return (uint8_t*)realpath((const char*)path, NULL);
