set(REQUIRES )
foreach(ARG IN_LISTS ${ARGS})
    if (ARG STREQUAL "REQUIRED")
        set(REQUIRES "REQUIRED")
    endif()
endforeach()

_find_package(unofficial-lua CONFIG ${REQUIRES})

if (@COMPILE_AS_CPP@)
    _find_package(unofficial-lua-cpp CONFIG ${REQUIRES})
endif()

get_filename_component(Lua_INCLUDE_DIR "${CMAKE_CURRENT_LIST_DIR}" PATH)
get_filename_component(Lua_INCLUDE_DIR "${Lua_INCLUDE_DIR}" PATH)
set(Lua_INCLUDE_DIR ${Lua_INCLUDE_DIR}/include)

list(APPEND Lua_LIBRARIES lua)
if (TARGET lua-cpp)
    list(APPEND Lua_LIBRARIES lua-cpp)
endif()

set(Lua_FOUND TRUE)

# Compatibility with this port's old behavior
set(LUA_INCLUDE_DIR ${Lua_INCLUDE_DIR})
set(LUA_LIBRARIES ${Lua_LIBRARIES})
set(LUA_FOUND ${Lua_FOUND})