diff --git a/LIBRARY/src/bid_functions.h b/LIBRARY/src/bid_functions.h
index a2d0cd7..4689877 100644
--- a/LIBRARY/src/bid_functions.h
+++ b/LIBRARY/src/bid_functions.h
@@ -42,9 +42,13 @@
 #include <ctype.h>
 
 // Fix system header issue on Sun solaris and define required type by ourselves
-#if !defined(_WCHAR_T) && !defined(_WCHAR_T_DEFINED) && !defined(__QNX__)
+#if !defined(__cplusplus) && !defined(_WCHAR_T) && !defined(_WCHAR_T_DEFINED) && !defined(__WCHAR_TYPE__) && !defined(__QNX__)
+#if defined(__WCHAR_TYPE__)
+typedef __WCHAR_TYPE__ wchar_t;
+#else
 typedef int   wchar_t;
 #endif
+#endif
 
 
 #ifdef IN_LIBGCC2
