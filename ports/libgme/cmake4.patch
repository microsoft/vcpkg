diff --git a/CMakeLists.txt b/CMakeLists.txt
index 62349bd48d..23985cdd94 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -74,7 +74,7 @@ option(BUILD_FRAMEWORK "Build framework instead of dylib (on macOS)" OFF)
 # Check for GCC/Clang "visibility" support.
 if (CMAKE_CXX_COMPILER_ID STREQUAL "GNU"
     OR
-    CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
+    CMAKE_CXX_COMPILER_ID MATCHES "Clang" AND NOT MSVC)
 
     set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -W -Wextra")
     set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
