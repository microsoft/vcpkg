diff --git a/src/CMemPtr.h b/src/CMemPtr.h
index 32afd2e..4cc9a3c 100644
--- a/src/CMemPtr.h
+++ b/src/CMemPtr.h
@@ -21,6 +21,9 @@
  */
 #pragma once
 
+#include <stdlib.h> // Acquire free
+#include <malloc.h> // and malloc
+
 class CMemPtr
 {
 private:
diff --git a/src/wow64ext.cpp b/src/wow64ext.cpp
index fbba809..2c26056 100644
--- a/src/wow64ext.cpp
+++ b/src/wow64ext.cpp
@@ -21,6 +21,7 @@
  */
 
 #include <Windows.h>
+#include <wchar.h> // Acquire _wcsicmp
 #include <cstddef>
 #include "internal.h"
 #include "wow64ext.h"
@@ -29,6 +30,7 @@
 HANDLE g_heap;
 BOOL g_isWow64;
 
+/*
 void* malloc(size_t size)
 {
 	return HeapAlloc(g_heap, 0, size);
@@ -59,6 +61,7 @@ int _wcsicmp(const wchar_t *string1, const wchar_t *string2)
 	} while (c1 && c1 == c2);
 	return c1 - c2;
 }
+*/
 
 BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)
 {
