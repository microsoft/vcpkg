diff --git a/CMakeLists.txt b/CMakeLists.txt
index a80e172..dcd594b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -63,13 +63,19 @@ IF(NOT LIBMINC_EXTERNALLY_CONFIGURED)
   SET (LIBMINC_INSTALL_DATA_DIR share)
 
   IF(LIBMINC_MINC1_SUPPORT)
-    FIND_PACKAGE(NETCDF REQUIRED)
+    find_package(netCDF CONFIG REQUIRED)
+    set(NETCDF_LIBRARY netCDF::netcdf)
   ENDIF(LIBMINC_MINC1_SUPPORT)
 
   # external packages
   FIND_PACKAGE(ZLIB REQUIRED)
-  SET(HDF5_NO_FIND_PACKAGE_CONFIG_FILE ON)
-  FIND_PACKAGE(HDF5 REQUIRED COMPONENTS C )
+  set(ZLIB_LIBRARY ZLIB::ZLIB)
+  find_package(hdf5 CONFIG REQUIRED)
+  if (TARGET hdf5::hdf5-shared)
+      SET(HDF5_LIBRARIES hdf5::hdf5-shared)
+  elseif (TARGET hdf5::hdf5-static)
+      SET(HDF5_LIBRARIES hdf5::hdf5-static)
+  endif()
   
   IF(LIBMINC_USE_NIFTI)
   IF (LIBMINC_USE_SYSTEM_NIFTI)
@@ -533,7 +539,7 @@ ENDIF()
 
 
 # config for install dir
-SET(LIBMINC_USE_FILE_CONFIG     "\${LIBMINC_INSTALL_PREFIX}/lib/cmake/Use${LIBMINC_EXTERNAL_LIB_PREFIX}LIBMINC.cmake" )
+SET(LIBMINC_USE_FILE_CONFIG     "\${CMAKE_CURRENT_LIST_DIR}/Use${LIBMINC_EXTERNAL_LIB_PREFIX}LIBMINC.cmake" )
 SET(LIBMINC_INCLUDE_DIRS_CONFIG "\${LIBMINC_INSTALL_PREFIX}/include" )
 SET(LIBMINC_LIBRARY_DIRS_CONFIG "\${LIBMINC_INSTALL_PREFIX}/lib" )
 SET(LIBMINC_STATIC_LIBRARIES_CONFIG   "" )
diff --git a/LIBMINCConfig.cmake.in b/LIBMINCConfig.cmake.in
index f8f7eb6..131f54f 100644
--- a/LIBMINCConfig.cmake.in
+++ b/LIBMINCConfig.cmake.in
@@ -1,5 +1,11 @@
 # LIBMINC CMake configuration file
 
+include(CMakeFindDependencyMacro)
+find_dependency(ZLIB)
+find_dependency(hdf5 CONFIG)
+if("@LIBMINC_MINC1_SUPPORT@")
+    find_dependency(netCDF CONFIG)
+endif()
 
 get_filename_component(LIBMINC_INSTALL_PREFIX "${CMAKE_CURRENT_LIST_DIR}/../../" ABSOLUTE)
 get_filename_component(LIBMINC_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH )
@@ -21,7 +27,8 @@ set(LIBMINC_NIFTI_SUPPORT @LIBMINC_NIFTI_SUPPORT@)
 #set(NIFTI_LIBRARIES    "@NIFTI_LIBRARIES@")
 
 set(LIBMINC_INCLUDE_DIRS "@LIBMINC_INCLUDE_DIRS_CONFIG@") # ${LIBMINC_INSTALL_PREFIX}/include
-set(LIBMINC_LIBRARY_DIRS "@LIBMINC_LIBRARY_DIRS_CONFIG@") # ${LIBMINC_INSTALL_PREFIX}/lib
+find_library(Z_VCPKG_LIBMINC_LIBRARY NAMES minc2 REQUIRED) # pick from vcpkg search paths
+get_filename_component(LIBMINC_LIBRARY_DIRS "${Z_VCPKG_LIBMINC_LIBRARY}" PATH)
 set(LIBMINC_USE_FILE     "@LIBMINC_USE_FILE_CONFIG@") # ${LIBMINC_INSTALL_PREFIX}/lib/UseLIBMINC.cmake
 
 set(LIBMINC_LIBRARIES    "@LIBMINC_LIBRARIES_CONFIG@")
