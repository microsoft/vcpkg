diff --git a/CMakeLists.txt b/CMakeLists.txt
index 8df871cf74..bb7a879f81 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,8 +1,8 @@
-PROJECT(yasm)
 CMAKE_MINIMUM_REQUIRED(VERSION 2.4)
 if (COMMAND cmake_policy)
     cmake_policy(SET CMP0003 NEW)
 endif (COMMAND cmake_policy)
+PROJECT(yasm)
 
 OPTION(BUILD_SHARED_LIBS "Build shared libraries" ON)
 
diff --git a/cmake/modules/YasmMacros.cmake b/cmake/modules/YasmMacros.cmake
index 918f51b844..db61eeae51 100644
--- a/cmake/modules/YasmMacros.cmake
+++ b/cmake/modules/YasmMacros.cmake
@@ -58,37 +58,37 @@ macro (YASM_ADD_MODULE _module_NAME)
 endmacro (YASM_ADD_MODULE)
 
 macro (YASM_GENPERF _in_NAME _out_NAME)
     if (NOT _tmp_GENPERF_EXE)
-    get_target_property(_tmp_GENPERF_EXE genperf LOCATION)
+    set(_tmp_GENPERF_EXE genperf)
     endif()
     add_custom_command(
         OUTPUT ${_out_NAME}
         COMMAND ${_tmp_GENPERF_EXE} ${_in_NAME} ${_out_NAME}
         DEPENDS ${_tmp_GENPERF_EXE}
         MAIN_DEPENDENCY ${_in_NAME}
         )
 endmacro (YASM_GENPERF)
 
 macro (YASM_RE2C _in_NAME _out_NAME)
     if (NOT _tmp_RE2C_EXE)
-    get_target_property(_tmp_RE2C_EXE re2c LOCATION)
+    set(_tmp_RE2C_EXE re2c)
     endif()
     add_custom_command(
         OUTPUT ${_out_NAME}
         COMMAND ${_tmp_RE2C_EXE} ${ARGN} -o ${_out_NAME} ${_in_NAME}
         DEPENDS ${_tmp_RE2C_EXE}
         MAIN_DEPENDENCY ${_in_NAME}
         )
 endmacro (YASM_RE2C)
 
 macro (YASM_GENMACRO _in_NAME _out_NAME _var_NAME)
     if (NOT _tmp_GENMACRO_EXE)
-    get_target_property(_tmp_GENMACRO_EXE genmacro LOCATION)
+    set(_tmp_GENMACRO_EXE genmacro)
     endif()
     add_custom_command(
         OUTPUT ${_out_NAME}
         COMMAND ${_tmp_GENMACRO_EXE} ${_out_NAME} ${_var_NAME} ${_in_NAME}
         DEPENDS ${_tmp_GENMACRO_EXE}
         MAIN_DEPENDENCY ${_in_NAME}
         )
 endmacro (YASM_GENMACRO)
diff --git a/modules/preprocs/nasm/CMakeLists.txt b/modules/preprocs/nasm/CMakeLists.txt
index e28ffbb212..fdd512346d 100644
--- a/modules/preprocs/nasm/CMakeLists.txt
+++ b/modules/preprocs/nasm/CMakeLists.txt
@@ -1,12 +1,12 @@
 if (NOT _tmp_GENVERSION_EXE)
 add_executable(genversion preprocs/nasm/genversion.c)
 install(TARGETS genversion RUNTIME DESTINATION bin)
-get_target_property(_tmp_GENVERSION_EXE genversion LOCATION)
+set(_tmp_GENVERSION_EXE genversion)
 endif()
 add_custom_command(
     OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/version.mac
     COMMAND ${_tmp_GENVERSION_EXE} ${CMAKE_CURRENT_BINARY_DIR}/version.mac
     DEPENDS ${_tmp_GENVERSION_EXE}
     )
 
 YASM_GENMACRO(
