diff --git a/fc-cache/meson.build b/fc-cache/meson.build
index 1d66ccf3..30f65b19 100644
--- a/fc-cache/meson.build
+++ b/fc-cache/meson.build
@@ -2,6 +2,7 @@ fccache = executable('fc-cache', ['fc-cache.c', fcstdint_h, alias_headers, ft_al
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-cat/meson.build b/fc-cat/meson.build
index dd7ee29e..207f5c2d 100644
--- a/fc-cat/meson.build
+++ b/fc-cat/meson.build
@@ -2,6 +2,7 @@ fccat = executable('fc-cat', ['fc-cat.c', fcstdint_h, alias_headers, ft_alias_he
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-conflist/meson.build b/fc-conflist/meson.build
index 88208ff8..91eaab63 100644
--- a/fc-conflist/meson.build
+++ b/fc-conflist/meson.build
@@ -2,6 +2,7 @@ fcconflist = executable('fc-conflist', ['fc-conflist.c', fcstdint_h, alias_heade
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-list/meson.build b/fc-list/meson.build
index 1be9df5d..0a8002ee 100644
--- a/fc-list/meson.build
+++ b/fc-list/meson.build
@@ -2,6 +2,7 @@ fclist = executable('fc-list', ['fc-list.c', fcstdint_h, alias_headers, ft_alias
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-match/meson.build b/fc-match/meson.build
index 1aa1b1b5..ead1f43f 100644
--- a/fc-match/meson.build
+++ b/fc-match/meson.build
@@ -2,6 +2,7 @@ fcmatch = executable('fc-match', ['fc-match.c', fcstdint_h, alias_headers, ft_al
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-pattern/meson.build b/fc-pattern/meson.build
index d9b048cb..ed21b6fd 100644
--- a/fc-pattern/meson.build
+++ b/fc-pattern/meson.build
@@ -2,6 +2,7 @@ fcpattern = executable('fc-pattern', ['fc-pattern.c', fcstdint_h, alias_headers,
   include_directories: [incbase, incsrc],
   dependencies: [libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-query/meson.build b/fc-query/meson.build
index 629bc71e..b1cb855f 100644
--- a/fc-query/meson.build
+++ b/fc-query/meson.build
@@ -2,6 +2,7 @@ fcquery = executable('fc-query', ['fc-query.c', fcstdint_h, alias_headers, ft_al
   include_directories: [incbase, incsrc],
   dependencies: [freetype_dep, libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-scan/meson.build b/fc-scan/meson.build
index 9049578f..17d80eb3 100644
--- a/fc-scan/meson.build
+++ b/fc-scan/meson.build
@@ -2,6 +2,7 @@ fcscan = executable('fc-scan', ['fc-scan.c', fcstdint_h, alias_headers, ft_alias
   include_directories: [incbase, incsrc],
   dependencies: [freetype_dep, libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/fc-validate/meson.build b/fc-validate/meson.build
index fcabf294..0137dd5f 100644
--- a/fc-validate/meson.build
+++ b/fc-validate/meson.build
@@ -2,6 +2,7 @@ fcvalidate = executable('fc-validate', ['fc-validate.c', fcstdint_h, alias_heade
   include_directories: [incbase, incsrc],
   dependencies: [freetype_dep, libintl_dep],
   link_with: [libfontconfig],
+  dependencies: [getopt_dep],
   c_args: c_args,
   install: true,
   install_tag: 'tools')
diff --git a/meson.build b/meson.build
index e742ea61..92b8b6ce 100644
--- a/meson.build
+++ b/meson.build
@@ -208,6 +208,14 @@ else
   opt_nls = opt_nls.require(false)
 endif
 
+if host_machine.system() == 'windows'
+  conf.set('HAVE_GETOPT', 1)
+  conf.set('HAVE_GETOPT_LONG', 1)
+  getopt_dep = cc.find_library('getopt', required: false)
+else
+  getopt_dep = dependency('', required: false)
+endif
+
 # Check iconv support
 iconv = get_option('iconv')
 iconv_dep = dependency('', required: false)
