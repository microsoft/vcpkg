diff --git a/cmake/safetyhook-config.cmake.in b/cmake/safetyhook-config.cmake.in
new file mode 100644
index 0000000..5d08ca1
--- /dev/null
+++ b/cmake/safetyhook-config.cmake.in
@@ -0,0 +1,7 @@
+@PACKAGE_INIT@
+
+include(CMakeFindDependencyMacro)
+find_dependency(zydis CONFIG)
+
+include("${CMAKE_CURRENT_LIST_DIR}/safetyhook-targets.cmake")
+check_required_components(safetyhook)
diff --git a/cmake.toml b/cmake.toml
index 04645b8..3f6ec3d 100644
--- a/cmake.toml
+++ b/cmake.toml
@@ -84,10 +84,17 @@ if(SAFETYHOOK_USE_CXXMODULES)
 endif()
 
 include(GNUInstallDirs)
+include(CMakePackageConfigHelpers)
+
+configure_package_config_file(
+    ${CMAKE_CURRENT_SOURCE_DIR}/cmake/safetyhook-config.cmake.in
+    ${CMAKE_CURRENT_BINARY_DIR}/safetyhook-config.cmake
+    INSTALL_DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/safetyhook
+)
 
 install(
     TARGETS safetyhook
-    EXPORT safetyhook-export
+    EXPORT safetyhook-targets
     LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
     ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
     RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
@@ -100,11 +107,16 @@ install(
 )
 
 install(
-    EXPORT safetyhook-export
-    FILE safetyhook-config.cmake
+    EXPORT safetyhook-targets
+    FILE safetyhook-targets.cmake
     NAMESPACE safetyhook::
     DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/safetyhook
 )
+
+install(
+    FILES ${CMAKE_CURRENT_BINARY_DIR}/safetyhook-config.cmake
+    DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/safetyhook
+)
 """
 
 [target.docs]
