diff --git a/angelscript/projects/cmake/CMakeLists.txt b/angelscript/projects/cmake/CMakeLists.txt
index 6f9d540..6eae090 100644
--- a/angelscript/projects/cmake/CMakeLists.txt
+++ b/angelscript/projects/cmake/CMakeLists.txt
@@ -77,7 +77,7 @@ set(ANGELSCRIPT_SOURCE
     ../../source/as_callfunc_mips.cpp
     ../../source/as_callfunc_x86.cpp
     ../../source/as_callfunc_x64_gcc.cpp
-    ../../source/as_callfunc_x64_msvc.cpp
+    ../../source/as_callfunc_arm64.cpp
     ../../source/as_callfunc_x64_mingw.cpp
     ../../source/as_compiler.cpp
     ../../source/as_configgroup.cpp
@@ -106,9 +106,9 @@ set(ANGELSCRIPT_SOURCE
 )
 
 if(MSVC AND CMAKE_CL_64)
-    enable_language(ASM_MASM)
+    enable_language(ASM_MARMASM)
     if(CMAKE_ASM_MASM_COMPILER_WORKS)
-        set(ANGELSCRIPT_SOURCE ${ANGELSCRIPT_SOURCE} ../../source/as_callfunc_x64_msvc_asm.asm)
+        set(ANGELSCRIPT_SOURCE ${ANGELSCRIPT_SOURCE} ../../source/as_callfunc_arm64_msvc.asm)
     else()
         message(FATAL ERROR "MSVC x86_64 target requires a working assembler")
     endif()
diff --git a/angelscript/source/as_config.h b/angelscript/source/as_config.h
index 9a99faf..293cc2e 100644
--- a/angelscript/source/as_config.h
+++ b/angelscript/source/as_config.h
@@ -532,7 +532,7 @@
 		#endif
 	#endif
 
-	#if defined(_M_ARM64)
+	#if defined(_M_ARM)
 		#define AS_ARM64
 
 		// TODO: MORE HERE
